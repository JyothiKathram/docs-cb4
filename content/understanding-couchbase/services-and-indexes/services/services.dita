<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="services">
  
  <title>
    Services
  </title>
  
  <shortdesc>
    Couchbase Services support access to and maintenance of data.
  </shortdesc>
  
  <body>
    
    <section>
      
      <title>
        Services
      </title>
      
      <p>
        Couchbase Server provides the following services: 
      </p>
      
      <p>
        
      </p>
      
      <ul>
        
        <li>
          <b>Data</b>: Supports the storing, setting, and getting of data-items, specified by
          key. 
          <p>
            
          </p>
        </li>
        
        <li>
          <b>Query</b>: Parses queries specified in the <i>N1QL</i> query-language, executes
          the queries, and returns results. The Query Service interacts with both the
          Data and Index services.
          <p>
            
          </p>
        </li>
        
        <li>
          <b>Index</b>: Creates indexes, for use by the <i>Query</i> and <i>Analytics</i>
          services.
          <p>
            
          </p>
        </li>
        
        <li>
          <b>Search</b>: Create indexes specially purposed for <i>Full Text Search</i>. This
          supports language-aware searching; allowing users to search for,
          say, the word <codeph>beauties</codeph>, and additionally obtain
          results for <codeph>beauty</codeph> and <codeph>beautiful</codeph>.
          <p>
            
          </p>
        </li>
        
        <li>
          <b>Analytics</b>: Supports large, ad hoc join, set,
          aggregation, and grouping operations; which are expected to
          be long-running and highly consumptive of memory and CPU resources.
          <p>
            
          </p>
        </li>
        
        <li>
          <b>Eventing</b>: Supports near real-time handling of changes to
          data: code can be executed both in response to document-mutations, 
          and as scheduled by timers.
          <p>
            
          </p>
        </li>
        
      </ul>
      
    </section>
    
    <section>
      <title>
        Setting Up Services
      </title>
      
      <p>
        Services are set up on a per node basis. Each node can run at most one instance of
        a service. Every node must run the data service. Some services are
        interdependent, and therefore require at least one instance of each dependency on
        the cluster, in order to run (for example, the optional <i>Query Service</i> requires the
        optional <i>Index Service</i>, as well as the mandatory <i>Data Service</i>).
      </p>
      
      <p>
        When the initial node for a cluster is initialized, the services assigned to it become
        the default assignment for each other node subsequently to be added to the cluster. 
        However, this default can be departed from; with one or more services omitted from the
        default, and one or more added. Only the <i>Data Service</i> must run on every node.
      </p>
      
      <p>
        When first allocated to a node, a service requires the assignment of a specific memory quota,
        which becomes standard for that service in each of its instances across the cluster. (The
        exception to this is the <i>Query Service</i>, which never requires a memory quota.)
      </p>
      
      <p>
        For a more detailed explanation of service memory quotas, see
        <xref href="../../buckets-memory-and-storage/memory.dita" scope="local" format="dita">Memory</xref>.
        For information on the practical steps required to initialize a cluster, including the allocation
        of services to nodes, see
        <xref href="../../../install/init-setup.dita" scope="local" format="dita">Initialize the Cluster</xref>.
      </p>
      
    </section>
    
  </body>
  
</topic>
